---
phase: 08-8-functionality-expansion-we-are-going-to-make-sure-it-works-exactly-like-we-want-it-to-we-want-it-completely-functional
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/LeadCaptureCard.tsx
  - src/app/projects/[id]/page.tsx
  - src/components/AssessmentWizard.tsx
  - src/app/content/page.tsx
  - src/app/gated-reports/page.tsx
autonomous: true
requirements: [HARD-01, HARD-03]

must_haves:
  truths:
    - "Project detail pages include a lead capture action"
    - "Assessment results present a clear next step toward lead capture"
    - "Content library directs users to newsletter signup"
    - "Reports page contains no dead actions"
  artifacts:
    - path: "src/components/LeadCaptureCard.tsx"
      provides: "Reusable lead capture CTA for detail/results"
    - path: "src/app/projects/[id]/page.tsx"
      provides: "Lead capture CTA rendered on project detail"
      contains: "LeadCaptureCard"
    - path: "src/components/AssessmentWizard.tsx"
      provides: "Results CTA to reach lead capture"
      contains: "LeadCaptureCard"
    - path: "src/app/content/page.tsx"
      provides: "Newsletter CTA pointing to /newsletter"
      contains: "/newsletter"
    - path: "src/app/gated-reports/page.tsx"
      provides: "Reports page with functional report action"
  key_links:
    - from: "src/app/projects/[id]/page.tsx"
      to: "src/components/LeadCaptureCard.tsx"
      via: "React render"
      pattern: "LeadCaptureCard"
    - from: "src/components/AssessmentWizard.tsx"
      to: "src/components/LeadCaptureCard.tsx"
      via: "React render"
      pattern: "LeadCaptureCard"
    - from: "src/app/content/page.tsx"
      to: "/newsletter"
      via: "Link"
      pattern: "href=\"/newsletter\""
---

<objective>
Complete the priority journeys by adding lead capture CTAs and removing dead-end actions.

Purpose: Ensure Explore → Detail → Lead capture, Content → Newsletter, and Assessment → Results → Lead capture flows are fully navigable.
Output: Lead capture card, updated CTAs, and functional report actions.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/app/projects/[id]/page.tsx
@src/components/AssessmentWizard.tsx
@src/components/EmailGateForm.tsx
@src/app/content/page.tsx
@src/app/gated-reports/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Add LeadCaptureCard and wire it into detail + assessment results</name>
  <files>src/components/LeadCaptureCard.tsx, src/app/projects/[id]/page.tsx, src/components/AssessmentWizard.tsx</files>
  <action>
Create a client LeadCaptureCard component that renders a concise headline, supporting copy, and either a link to /gated-reports or an embedded EmailGateForm (use the form if that best matches existing flows). Add it to the Project detail sidebar and the AssessmentWizard results screen as the primary next step. Ensure copy aligns with production-ready tone and clearly sets the expectation of a detailed report.
  </action>
  <verify>rg "LeadCaptureCard" src/app/projects/[id]/page.tsx</verify>
  <done>Detail pages and assessment results both expose a lead capture CTA using the new component.</done>
</task>

<task type="auto">
  <name>Fix newsletter CTA and remove dead actions in reports</name>
  <files>src/app/content/page.tsx, src/app/gated-reports/page.tsx</files>
  <action>
Update the content library CTA to link to /newsletter (not /gated-reports). In gated reports, remove or replace the non-functional "Sign in" button and make report actions functional (e.g., mailto request links) so there are no dead clicks. Keep styling consistent with existing buttons.
  </action>
  <verify>npm run lint</verify>
  <done>Content CTA routes to newsletter signup, and gated reports has no inert buttons.</done>
</task>

</tasks>

<verification>
- `rg "LeadCaptureCard" src/app/projects/[id]/page.tsx` confirms CTA wiring
- `npm run lint` passes after CTA/report updates
</verification>

<success_criteria>
- Priority journeys include a visible, working lead capture step
- No user-facing action is a dead end
</success_criteria>

<output>
After completion, create `.planning/phases/08-8-functionality-expansion-we-are-going-to-make-sure-it-works-exactly-like-we-want-it-to-we-want-it-completely-functional/08-02-SUMMARY.md`
</output>
