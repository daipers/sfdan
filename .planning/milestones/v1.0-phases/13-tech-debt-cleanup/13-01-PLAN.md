---
phase: 13-tech-debt-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, .env.local, src/lib/api.ts]
autonomous: true
user_setup: []
must_haves:
  truths:
    - "Netlify plugin removed from dependencies"
    - "Supabase service role key properly secured"
    - "API placeholder resolved or documented"
  artifacts:
    - path: "package.json"
      provides: "Cleaned dependencies"
    - path: ".env.local"
      provides: "Secured env file"
    - path: "src/lib/api.ts"
      provides: "Resolved placeholder"
  key_links: []
---

<objective>
Clean up tech debt from the GitHub Pages migration: remove unused Netlify plugin, verify Supabase security, and resolve code placeholder.
</objective>

<execution_context>
@./.opencode/get-shit-done/workflows/execute-plan.md
@./.opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Netlify plugin from dependencies</name>
  <files>package.json</files>
  <action>
    Remove "@netlify/plugin-nextjs" from devDependencies:
    - Run: npm uninstall @netlify/plugin-nextjs
    - Or manually remove from package.json and run npm install
  </action>
  <verify>npm run build succeeds</verify>
  <done>package.json no longer contains @netlify/plugin-nextjs</done>
</task>

<task type="auto">
  <name>Task 2: Document Supabase security recommendation</name>
  <files>.env.local, .env.example</files>
  <action>
    Review .env.local for security issues:
    - The SUPABASE_SERVICE_ROLE_KEY should only be used server-side
    - Add a comment to .env.example noting this key should only be set for local development
    - For production GitHub Pages, this key should NOT be exposed to the client
  </action>
  <verify>cat .env.example includes security note</verify>
  <done>Security guidance documented in .env.example</done>
</task>

<task type="auto">
  <name>Task 3: Resolve API placeholder in api.ts</name>
  <files>src/lib/api.ts</files>
  <action>
    Read line 74 of src/lib/api.ts to see the placeholder, then either:
    - Implement the actual functionality if needed
    - Or replace with proper TypeScript todo comment explaining when it applies
  </action>
  <verify>Placeholder is either implemented or documented with proper @todo comment</verify>
  <done>No generic placeholder comments remain in api.ts</done>
</task>

</tasks>

<verification>
- npm run build succeeds
- npm test passes
- No TODO/FIXME/placeholder comments in production code
</verification>

<success_criteria>
- Task 1: Netlify plugin removed
- Task 2: Security notes added to .env.example
- Task 3: API placeholder resolved
- Build and tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/13-tech-debt-cleanup/13-01-SUMMARY.md`
</output>
